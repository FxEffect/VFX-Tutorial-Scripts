# 视频脚本 Markdown 文档规范

## 1. 概述

本文档定义了视频脚本 `.md` 文件的标准格式。遵循此规范是确保脚本能够被我们的工具正确解析、编辑和管理的前提。

每个 `.md` 文件都是一个独立的、自包含的视频脚本单元。其核心结构由两部分组成：

1.  **YAML Front Matter**: 文件头部的元数据块，用于存储脚本的ID、标题等关键信息。
2.  **Markdown Content**: 脚本的具体内容，使用标准的 Markdown 语法（标题、表格等）。

---

## 2. YAML Front Matter (头部元数据)

每个脚本文件的开头都必须包含一个由 `---` 分隔的 YAML 元数据块。

**必填字段:**

*   `scriptId` (字符串): **必需**。脚本的唯一标识符，绝对不能重复。
    *   **格式**: 推荐使用 `[课程类型]-[课程编号]-[版本号]` 的结构。
    *   **示例**:
        *   `paid-lesson-3-v2` (收费课程-第3课-第2版)
        *   `free-showcase-1-v1` (免费案例-第1个-第1版)

*   `title` (字符串): **必需**。脚本的人类可读标题。这个标题会显示在脚本选择下拉菜单等UI界面中。
    *   **示例**: `UE5高级火焰特效制作`

**可选字段:**

*   `toolVersion` (字符串): 推荐。创建此脚本的工具版本号，用于未来的兼容性判断。
    *   **示例**: `1.0`

*   `exportDate` (字符串): 自动生成。文件最后一次被工具导出的时间戳。您无需手动修改此字段。

*   `videoProgress` (字符串): 自动生成。导出时快照的视频录制进度。
    *   **示例**: `30%`

*   `audioProgress` (字符串): 自动生成。导出时快照的配音进度。
    *   **示例**: `7%`

**完整示例:**
```yaml
---
scriptId: "paid-lesson-3-v2"
title: "UE5高级火焰特效制作"
toolVersion: "1.0"
exportDate: "2025-10-18T10:00:00.000Z"
videoProgress: "30%"
audioProgress: "7%"
---
```

---

## 3. 脚本内容 (Markdown Content)

### 3.1 标题 (Headings)

*   使用一级标题 (`#`) 定义脚本的总标题，它应该和元数据中的 `title` 保持一致。
*   使用二级标题 (`##`) 定义脚本的主要部分 (例如: "第一部分：黄金15秒")。
*   使用三级标题 (`###`) 定义每个部分下的子章节 (例如: "章节1：搭建基础")。

### 3.2 内容表格 (Tables)

表格是脚本的核心载体，必须遵循以下结构：

#### 3.2.1 表格定界符 (Table Delimiters)

**[重要]** 为了让程序能准确地找到并解析表格，**每一个**完整的Markdown表格都**必须**由一对HTML注释标记包裹起来。

*   **开始标记**: `<!-- TABLE_START -->`
*   **结束标记**: `<!-- TABLE_END -->`

这两个标记必须分别位于表格的**正上方**和**正下方**。程序会自动识别这两个标记之间的内容作为一个完整的表格进行处理。

**示例:**
```markdown
### 章节1：搭建基础

<!-- TABLE_START -->
| 录视频 | 配音 | 时间轴 |
|:---:|:---:|---|
| ✓ |   | 0:15 |
<!-- TABLE_END -->
```

#### 3.2.2 表格结构 (Table Structure)

*   **表头**: 表头内容现在是**动态**的。您可以根据需要在表格中定义不同的列。程序会忠实地读取并显示您定义的表头。
*   **对齐**: `录视频` 和 `配音` 列推荐居中对齐 (`:---:`)，其他列可使用默认对齐。

**表格行规则**:

每一行代表一个任务。除了可见的脚本内容外，每一行的**时间轴单元格内**都隐藏了一段用于追踪状态的 **HTML注释**。

**警告：请绝对不要手动创建或修改这段注释！** 它由工具自动生成和管理。错误的修改将导致该行数据无法被正确读取。

**注释结构解析 (仅供了解):**
`<!-- id:[cell-id] video:[status] audio:[status] -->`
*   `id`: 一个内部ID，用于将表格行与存储的数据关联起来。
*   `video`: `checked` 或 `unchecked`，代表“录视频”复选框的状态。
*   `audio`: `checked` 或 `unchecked`，代表“配音”复选框的状态。

**表格示例:**
```markdown
<!-- TABLE_START -->
| 录视频 | 配音 | 时间轴 | 画面内容 | 旁白/对话 | 备注 |
| :---: | :---: | --- | --- | --- | --- |
| ✓ |   | <!-- id:editable-0-1-3 video:checked audio:unchecked -->0:05 | **[快节奏混剪]** 展示最终效果。 | (激昂的背景音乐) | 瞬间抓住观众眼球。 |
|   |   | <!-- id:editable-0-2-3 video:unchecked audio:unchecked -->0:15 | **[画面淡入]** 个人Logo。 | Hello everyone，我是冯旭。 | 品牌植入。 |
<!-- TABLE_END -->
```
*   在 Markdown 中，`录视频` 和 `配音` 列可以直接使用 `✓` (checked) 或留空 (unchecked) 来表示状态。工具在导入和导出时会自动进行转换。

### 3.3 内部链接 (Internal Links)

您可以在任何单元格内使用 `[#脚本ID]` 格式来创建一个指向另一个脚本的内部链接。这对于在不同课程或章节之间建立引用非常有用。

*   **语法**: `[#<要链接的脚本ID>]`
*   **示例**:
    *   `[#free-lesson-1-v1]`
    *   `[#paid-lesson-3-v2]`

在应用内，这段文本会被渲染成一个可点击的链接，点击后会直接跳转到对应的脚本。

**示例用法 (在“备注”列中):**

```markdown
<!-- TABLE_START -->
| ... | 备注 |
|---|---|
| ... | 请参考前置课程 [#free-lesson-1-v1] 中关于材质的基础知识。 |
<!-- TABLE_END -->
```

---

## 4. 完整文件示例

```markdown
---
scriptId: "free-lesson-1-v1"
title: "10分钟从零制作一个火焰命中特效"
toolVersion: "1.0"
exportDate: "2025-10-18T10:00:00.000Z"
---

# 10分钟从零制作一个火焰命中特效

## 第一部分：黄金15秒—“结果展示 & 价值承诺”

<!-- TABLE_START -->
| 录视频 | 配音 | 时间轴 | 画面内容 | 旁白/对话 | 备注 |
| :---: | :---: | --- | --- | --- | --- |
| ✓ | ✓ | <!-- id:editable-0-1-3 video:checked audio:checked -->0:05 | **[快节奏混剪]** 视频成品——火焰命中特效在场景中的最终效果。 | (激昂、快节奏的背景音乐) | **目标：** 立即展示最终效果，瞬间抓住观众眼球。 |
|   |   | <!-- id:editable-0-2-3 video:unchecked audio:unchecked -->0:15 | **[画面淡入]** 简洁的动态个人Logo或名字Title出现：“冯旭 - 游戏特效设计师”。 | Hello everyone，我是游戏特效设计师冯旭。 | **优化点：** 用精炼的语言完成品牌植入和价值承诺。 |
<!-- TABLE_END -->

## 第二部分：核心教学—“高密度、无废话”

### 章节1：搭建基础 - 通用材质

<!-- TABLE_START -->
| 录视频 | 配音 | 时间轴 | 画面内容 | 旁白/对话 | 视觉引导/备注 |
| :---: | :---: | --- | --- | --- | --- |
|   |   | <!-- id:editable-1-1-3 video:unchecked audio:unchecked -->0:15 | **[画面]** 快速展示三张核心贴图：火焰序列图、光晕图、火星图。 | 首先，简单介绍一下这次要用到的三张贴图。 | **目标：** 让观众对所需资源有初步了解。 |
<!-- TABLE_END -->

```
