<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>视频脚本管理器</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body class="bg-gray-100">

    <div class="flex h-screen">
        <!-- Main Content -->
        <main class="flex-1 p-8 overflow-y-auto">
            
            <div id="script-content-wrapper" class="hidden">
                 <!-- Header Section -->
                <div class="mb-8 text-center">
                    <h1 id="script-title" class="text-3xl md:text-4xl font-bold text-gray-800"></h1>
                    <p class="mt-2 text-lg text-gray-600">遵循“完美10分钟教程视频制作蓝图”，为观众提供高密度、无废话、有价值的教学体验。</p>
                    <p class="mt-1 text-md text-gray-500">视频总时长： 约10分钟</p>
                </div>
                
                <!-- Progress Bar Section -->
                <div class="card p-6 mb-8">
                    <!-- Video Progress -->
                    <div class="flex justify-between items-center mb-2">
                        <h2 class="text-lg font-semibold text-gray-700">录视频进度</h2>
                        <span id="progress-text-video" class="font-bold text-blue-600">0%</span>
                    </div>
                    <div class="w-full bg-gray-200 rounded-full h-4 mb-4">
                        <div id="progress-bar-video" class="bg-blue-500 h-4 rounded-full transition-all duration-500" style="width: 0%"></div>
                    </div>
                    <!-- Audio Progress -->
                    <div class="flex justify-between items-center mb-2">
                        <h2 class="text-lg font-semibold text-gray-700">配音进度</h2>
                        <span id="progress-text-audio" class="font-bold text-green-600">0%</span>
                    </div>
                    <div class="w-full bg-gray-200 rounded-full h-4">
                        <div id="progress-bar-audio" class="bg-green-500 h-4 rounded-full transition-all duration-500" style="width: 0%"></div>
                    </div>
                </div>

                <div id="script-tables-container">
                    <!-- Script tables will be dynamically inserted here -->
                </div>
            </div>

            <div id="welcome-message" class="text-center p-12 border-2 border-dashed border-gray-300 rounded-lg">
                <h2 class="text-2xl font-bold text-gray-600">欢迎使用!</h2>
                <p class="mt-2 text-gray-500">请从右侧导航栏点击“导入新脚本”开始您的工作。</p>
            </div>

        </main>

        <!-- Right Sidebar -->
        <aside class="w-1/4 bg-white border-l border-gray-200 p-6 flex flex-col h-screen">
            <h2 class="text-xl font-bold mb-4">我的脚本库</h2>
            
            <!-- Script List -->
            <div class="flex-1 overflow-y-auto -mx-6 px-6">
                <ul id="script-list-container">
                    <!-- Script items will be dynamically inserted here by script.js -->
                </ul>
            </div>

            <input type="file" id="import-file-input" class="hidden" accept=".md,.markdown">

            <!-- Action Buttons -->
            <div class="mt-6 space-y-3">
                <button id="import-button" class="w-full flex items-center justify-center px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
                    <svg class="w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path d="M9.25 13.25a.75.75 0 0 0 1.5 0V4.636l2.955 3.129a.75.75 0 0 0 1.09-1.03l-4.25-4.5a.75.75 0 0 0-1.09 0l-4.25 4.5a.75.75 0 1 0 1.09 1.03L9.25 4.636V13.25Z" /><path d="M3.5 12.75a.75.75 0 0 0-1.5 0v2.5A2.75 2.75 0 0 0 4.75 18h10.5A2.75 2.75 0 0 0 18 15.25v-2.5a.75.75 0 0 0-1.5 0v2.5c0 .69-.56 1.25-1.25 1.25H4.75c-.69 0-1.25-.56-1.25-1.25v-2.5Z" /></svg>
                    导入新脚本
                </button>
                <button id="export-button" class="w-full flex items-center justify-center px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300">
                    <svg class="w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path d="M10.75 2.75a.75.75 0 0 0-1.5 0v8.614L6.295 8.235a.75.75 0 1 0-1.09 1.03l4.25 4.5a.75.75 0 0 0 1.09 0l4.25-4.5a.75.75 0 1 0-1.09-1.03L10.75 11.364V2.75Z" /><path d="M3.5 12.75a.75.75 0 0 0-1.5 0v2.5A2.75 2.75 0 0 0 4.75 18h10.5A2.75 2.75 0 0 0 18 15.25v-2.5a.75.75 0 0 0-1.5 0v2.5c0 .69-.56 1.25-1.25 1.25H4.75c-.69 0-1.25-.56-1.25-1.25v-2.5Z" /></svg>
                    导出当前脚本
                </button>
                <button id="delete-button" class="w-full flex items-center justify-center px-4 py-2 text-sm font-medium text-red-600 bg-red-100 rounded-md hover:bg-red-200">
                    <svg class="w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M8.75 1A2.75 2.75 0 0 0 6 3.75v.443c-1.05.242-1.8.463-2.35.684A2.25 2.25 0 0 0 2.25 6.5v1c.45-.19.954-.345 1.5-.45v5.2c-.546-.105-1.05-.26-1.5-.45v1a2.25 2.25 0 0 0 1.4 2.023c.55.22 1.3.442 2.35.684v.443A2.75 2.75 0 0 0 8.75 19h2.5A2.75 2.75 0 0 0 14 16.25v-.443c1.05-.242 1.8-.463 2.35-.684A2.25 2.25 0 0 0 17.75 13.5v-1c-.45.19-.954.345-1.5.45v-5.2c.546.105 1.05.26 1.5.45v-1a2.25 2.25 0 0 0-1.4-2.023A16.08 16.08 0 0 0 14 4.193v-.443A2.75 2.75 0 0 0 11.25 1h-2.5ZM7.5 3.75c0-.69.56-1.25 1.25-1.25h2.5c.69 0 1.25.56 1.25 1.25v12.5c0 .69-.56 1.25-1.25 1.25h-2.5c-.69 0-1.25-.56-1.25-1.25V3.75Z" clip-rule="evenodd" /></svg>
                    删除当前脚本
                </button>
            </div>
             <div class="mt-auto pt-6 text-center">
                <button id="reset-all-button" class="text-sm text-gray-500 hover:text-red-600 hover:underline">重置所有数据</button>
            </div>
        </aside>
    </div>

    <!-- Edit Script Modal -->
    <div id="edit-modal" class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full hidden z-50">
        <div class="relative top-20 mx-auto p-5 border w-full max-w-md shadow-lg rounded-md bg-white">
            <div class="mt-3 text-center">
                <h3 class="text-lg leading-6 font-medium text-gray-900">编辑脚本属性</h3>
                <div class="mt-2 px-7 py-3">
                    <form id="edit-form" class="space-y-4 text-left">
                        <input type="hidden" id="edit-original-script-id">
                        <div>
                            <label for="edit-title" class="block text-sm font-medium text-gray-700">脚本标题</label>
                            <input type="text" id="edit-title" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
                        </div>
                        <div>
                            <p class="block text-sm font-medium text-gray-700">脚本 ID</p>
                            <div class="mt-1 grid grid-cols-3 gap-4">
                                <div>
                                    <label for="edit-id-type" class="block text-xs font-medium text-gray-500">类型</label>
                                    <select id="edit-id-type" class="block w-full px-3 py-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
                                        <option value="free">免费</option>
                                        <option value="paid">收费</option>
                                    </select>
                                </div>
                                <div>
                                    <label for="edit-id-number" class="block text-xs font-medium text-gray-500">编号</label>
                                    <input type="number" id="edit-id-number" min="1" class="block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
                                </div>
                                <div>
                                    <label for="edit-id-version" class="block text-xs font-medium text-gray-500">版本 (v)</label>
                                    <input type="number" id="edit-id-version" min="1" class="block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="items-center px-4 py-3">
                    <button id="edit-cancel-button" class="px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 mr-2">取消</button>
                    <button id="edit-save-button" class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700">保存</button>
                </div>
            </div>
        </div>
    </div>

    <script type="module" src="js/main.js"></script>
</body>
</html>